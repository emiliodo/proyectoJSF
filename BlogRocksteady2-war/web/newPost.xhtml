<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="/plantilla/plantilla.xhtml">

    <ui:define name="contenido">
        <!-- Main -->
        <div id="main">
            <div class="row">
                <div id="content" class="12u skel-cell-important">
                    <div class="container">
                        <ui:fragment rendered="#{loginBean.usuario.userType lt 3}">
                            <f:view> 
                                <h:form enctype="multipart/form-data">
                                    <header>
                                        <h2>#{msg['NewPost']}</h2>
                                    </header>
                                    #{msg['HeaderImage']} <h6 style="color:red"> 2040 x 240 px</h6>
                                    <h:inputFile id="headerImage" value="#{newPostBean.headerImage}" title="HeaderImage" /><br/>
                                    #{msg['Title']}<br/>
                                    <h:inputText id="title" maxlength="255" value="#{newPostBean.title}" title="Title" /><br/>
                                    #{msg['Content']}<br/>
                                    <h:inputTextarea rows="5" cols="60" id="postContent" value="#{newPostBean.content}" title="PostContent" >
                                        <f:validateLength maximum="1024" />
                                    </h:inputTextarea><br/><br/>
                                    #{msg['Latitude']}
                                    <h:inputText id="inLat" value="#{newPostBean.latitude}"/>
                                    #{msg['Longitude']}
                                    <h:inputText id="inLong" value="#{newPostBean.longitude}"/><br/>
                                    #{msg['mapDescription']}<br/>
                                    <div id="latLongMap" style="width:800px; height: 300px;"></div><br/><br/>

                                    <p:commandButton ajax="false" value="Post" id="createPost" action="#{newPostBean.createPost()}"/>
                                    <p:commandButton ajax="false" value="#{msg['Back']}" action="blog.xhtml"/><br/><br/>
                                </h:form>
                            </f:view>
                        </ui:fragment>
                        <ui:fragment rendered="#{loginBean.usuario.userType gt 2}">
                            <h2>#{msg['newPostDenied']}</h2>
                        </ui:fragment>
                    </div>
                </div>
            </div>      
        </div>
    </ui:define>
</ui:composition>
